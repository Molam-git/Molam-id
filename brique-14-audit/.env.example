# Brique 14: Audit logs centralis√©s - Environment Variables

# Node environment
NODE_ENV=development

# Server
PORT=3014

# Database (PostgreSQL)
DATABASE_URL=postgresql://molam:password@localhost:5432/molam_id

# Redis (cache)
REDIS_URL=redis://localhost:6379

# JWT Authentication (Service-to-Service)
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
JWT_AUDIENCE=molam-id
JWT_ISSUER=https://id.molam.com

# S3 (Archival WORM)
S3_ENABLED=true
S3_REGION=eu-west-1
S3_AUDIT_BUCKET=molam-audit-logs
S3_KMS_KEY_ID=arn:aws:kms:eu-west-1:123456789:key/...

# AWS Credentials (for S3)
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...

# Kafka (Optional - high volume ingestion)
KAFKA_ENABLED=false
KAFKA_BROKERS=kafka-1:9092,kafka-2:9092,kafka-3:9092
KAFKA_AUDIT_TOPIC=molam.audit
KAFKA_GROUP_ID=audit-ingestion

# Audit Settings
AUDIT_RETENTION_DAYS=395
ARCHIVE_DAILY_AT=02:00
CHAIN_VERIFY_ENABLED=true
